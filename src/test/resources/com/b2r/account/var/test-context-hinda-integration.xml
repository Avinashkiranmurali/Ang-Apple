<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context" xmlns:jaxws="http://cxf.apache.org/jaxws"
       xmlns:http-conf="http://cxf.apache.org/transports/http/configuration"
       xmlns:sec="http://cxf.apache.org/configuration/security"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd http://cxf.apache.org/transports/http/configuration http://cxf.apache.org/schemas/configuration/http-conf.xsd http://cxf.apache.org/configuration/security http://cxf.apache.org/schemas/configuration/security.xsd">

    <context:property-placeholder
            file-encoding="UTF-8"
            ignore-unresolvable="true"
            location="classpath:/com/b2r/account/var/test-context-hinda-integration.properties" order="10000000"/>


    <!--    <http-conf:conduit name="*.http-conduit">-->
    <http-conf:conduit name="{urn:GetHindaRequest}HindaInterfacePort.http-conduit">
        <http-conf:tlsClientParameters>
            <sec:keyManagers keyPassword="${var.fis.hinda.pointsbank.keystore.password}">
<!--                <sec:keyStore type="JKS" password="changeit" file="C:\\Users\\ssantandera\\Documents\\hinda-wsdl\\hinda-merch.uat.jks"/>-->
                <sec:keyStore type="JKS" password="${var.fis.hinda.pointsbank.keystore.password}" resource="${var.fis.hinda.pointsbank.keystore}"/>

            </sec:keyManagers>
        </http-conf:tlsClientParameters>
<!--
        <http-conf:authorization>
            <sec:UserName>B2STemp</sec:UserName>
            <sec:Password>ForGid@14</sec:Password>
        </http-conf:authorization>
-->

    </http-conf:conduit>

    <jaxws:client id="hindaInterface"
                  serviceClass="com.fis.pointbank.HindaInterface"
                  address="${var.fis.hinda.pointsbank.ws.url}">
        <jaxws:properties>
            <entry key="username" value="${var.fis.hinda.pointsbank.username}" />
            <entry key="password" value="${var.fis.hinda.pointsbank.password}" />
        </jaxws:properties>
<!--
        <jaxws:features>
            <wsa:addressing xmlns:wsa="http://cxf.apache.org/ws/addressing"/>
        </jaxws:features>
-->
        <jaxws:outInterceptors>
            <bean class="org.apache.cxf.interceptor.LoggingOutInterceptor">
            </bean>
            <bean class="org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor">
                <constructor-arg>
                    <map>
                        <entry key="action" value="UsernameToken"/>
                        <entry key="passwordType" value="PasswordText"/>
                        <entry key="user" value="${var.fis.hinda.pointsbank.username}" />
                        <entry key="password" value="${var.fis.hinda.pointsbank.password}" />
                    </map>
                </constructor-arg>
            </bean>
        </jaxws:outInterceptors>
        <jaxws:outFaultInterceptors>
            <bean class="org.apache.cxf.interceptor.LoggingOutInterceptor"/>
        </jaxws:outFaultInterceptors>
        <jaxws:inInterceptors>
            <bean class="org.apache.cxf.interceptor.LoggingInInterceptor"/>
        </jaxws:inInterceptors>
        <jaxws:inFaultInterceptors>
            <bean class="org.apache.cxf.interceptor.LoggingInInterceptor"/>
        </jaxws:inFaultInterceptors>
    </jaxws:client>


<!--
    <jaxws:client id="hindaPointBankServiceClient"
                  serviceClass="com.fis.pointbank.HindaInterface"
                  address="https://onlineloyaltymgruat.fnis.com/fis-hindaws/services/HindaInterfaceService">
        <jaxws:outInterceptors>
            <bean class="org.apache.cxf.interceptor.LoggingOutInterceptor" />
        </jaxws:outInterceptors>
        <jaxws:outFaultInterceptors>
            <bean class="org.apache.cxf.interceptor.LoggingOutInterceptor"/>
        </jaxws:outFaultInterceptors>
        <jaxws:inInterceptors>
            <bean class="org.apache.cxf.interceptor.LoggingInInterceptor"/>
        </jaxws:inInterceptors>
        <jaxws:inFaultInterceptors>
            <bean class="org.apache.cxf.interceptor.LoggingInInterceptor"/>
        </jaxws:inFaultInterceptors>
    </jaxws:client>
-->



</beans>